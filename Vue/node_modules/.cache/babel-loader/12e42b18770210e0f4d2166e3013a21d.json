{"remainingRequest":"E:\\Tutti il mio\\Documentos\\GitHub\\ciclo4\\Vue\\node_modules\\babel-loader\\lib\\index.js!E:\\Tutti il mio\\Documentos\\GitHub\\ciclo4\\Vue\\src\\router.js","dependencies":[{"path":"E:\\Tutti il mio\\Documentos\\GitHub\\ciclo4\\Vue\\src\\router.js","mtime":1639152452747},{"path":"E:\\Tutti il mio\\Documentos\\GitHub\\ciclo4\\Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Tutti il mio\\Documentos\\GitHub\\ciclo4\\Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIaXN0b3J5IH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCBBcHAgZnJvbSAiLi9BcHAudnVlIjsKaW1wb3J0IEluaWNpbyBmcm9tICIuL2NvbXBvbmVudHMvSW5pY2lvLnZ1ZSI7CmltcG9ydCBBZG1pbmlzdHJhciBmcm9tICIuL2NvbXBvbmVudHMvQWRtaW5pc3RyYXIudnVlIjsKaW1wb3J0IEluaWNpYXIgZnJvbSAiLi9jb21wb25lbnRzL0luaWNpYXIudnVlIjsKaW1wb3J0IFJlcG9ydGUgZnJvbSAiLi9jb21wb25lbnRzL1JlcG9ydGUudnVlIjsKaW1wb3J0IFJlc3VtZW4gZnJvbSAiLi9jb21wb25lbnRzL1Jlc3VtZW4udnVlIjsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogIi8iLAogIG5hbWU6ICJyb290IiwKICBjb21wb25lbnQ6IEFwcCwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IGZhbHNlCiAgfQp9LCB7CiAgcGF0aDogIi9pbmljaW8iLAogIG5hbWU6ICJpbmljaW8iLAogIGNvbXBvbmVudDogSW5pY2lvLAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQXV0aDogZmFsc2UKICB9Cn0sIHsKICBwYXRoOiAiL2luaWNpby9yZXN1bWVuIiwKICBuYW1lOiAicmVzdW1lbiIsCiAgY29tcG9uZW50OiBSZXN1bWVuLAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQXV0aDogZmFsc2UKICB9Cn0sIHsKICBwYXRoOiAiL3VzZXIvaW5pY2lhciIsCiAgbmFtZTogImluaWNpYXIiLAogIGNvbXBvbmVudDogSW5pY2lhciwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGg6IGZhbHNlCiAgfQp9LCB7CiAgcGF0aDogIi91c2VyL2FkbWluaXN0cmFyIiwKICBuYW1lOiAiYWRtaW5pc3RyYXIiLAogIGNvbXBvbmVudDogQWRtaW5pc3RyYXIsCiAgbWV0YTogewogICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogIi91c2VyL2FkbWluaXN0cmFyL3JlcG9ydGUiLAogIG5hbWU6ICJyZXBvcnRlIiwKICBjb21wb25lbnQ6IFJlcG9ydGUsCiAgbWV0YTogewogICAgcmVxdWlyZXNBdXRoOiB0cnVlCiAgfQp9XTsKdmFyIHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgaGlzdG9yeTogY3JlYXRlV2ViSGlzdG9yeSgpLAogIHJvdXRlczogcm91dGVzCn0pOwovKmNvbnN0IGFwb2xsb0NsaWVudCA9IG5ldyBBcG9sbG9DbGllbnQoew0KICAgIGxpbms6IGNyZWF0ZUh0dHBMaW5rKHsNCiAgICAgICAgdXJpOiAnaHR0cHM6Ly9jYXItYXBpLWdhdGV3YXkuaGVyb2t1YXBwLmNvbS8nDQogICAgfSksDQogICAgY2FjaGU6IG5ldyBJbk1lbW9yeUNhY2hlKCkNCn0pDQoNCmFzeW5jIGZ1bmN0aW9uIGlzQXV0aCgpIHsNCiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuX2FjY2VzcyIpID09PSBudWxsIHx8DQogICAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbl9yZWZyZXNoIikgPT09IG51bGwpIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICB0cnkgew0KICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgYXBvbGxvQ2xpZW50Lm11dGF0ZSh7DQogICAgICAgICAgICBtdXRhdGlvbjogZ3FsIGANCiAgICAgICAgICAgICAgICBtdXRhdGlvbiAoJHJlZnJlc2g6IFN0cmluZyEpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuKHJlZnJlc2g6ICRyZWZyZXNoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3MNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1gLA0KICAgICAgICAgICAgdmFyaWFibGVzOiB7DQogICAgICAgICAgICAgICAgcmVmcmVzaDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuX3JlZnJlc2giKSwNCiAgICAgICAgICAgIH0sDQogICAgICAgIH0pDQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbl9hY2Nlc3MiLCByZXN1bHQuZGF0YS5yZWZyZXNoVG9rZW4uYWNjZXNzKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfSBjYXRjaCB7DQogICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOw0KICAgICAgICBhbGVydCgiU3Ugc2VzacOzbiBleHBpcsOzLCBwb3IgZmF2b3IgdnVlbHZhIGEgaW5pY2lhciBzZXNpw7NuIik7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQp9DQoNCnJvdXRlci5iZWZvcmVFYWNoKGFzeW5jICh0bywgZnJvbSkgPT4gew0KICAgIHZhciBpc19hdXRoID0gYXdhaXQgaXNBdXRoKCk7DQogICAgaWYgKGlzX2F1dGggPT0gdG8ubWV0YS5yZXF1aXJlc0F1dGgpIHJldHVybiB0cnVlDQogICAgaWYgKGlzX2F1dGgpIHJldHVybiB7DQogICAgICAgIG5hbWU6ICJob21lIg0KICAgIH07DQogICAgcmV0dXJuIHsNCiAgICAgICAgbmFtZTogImxvZ0luIg0KICAgIH07DQp9KSovCgpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["E:/Tutti il mio/Documentos/GitHub/ciclo4/Vue/src/router.js"],"names":["createRouter","createWebHistory","App","Inicio","Administrar","Iniciar","Reporte","Resumen","routes","path","name","component","meta","requiresAuth","router","history"],"mappings":"AAAA,SACIA,YADJ,EAEIC,gBAFJ,QAGO,YAHP;AAIA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AAEA,IAAMC,MAAM,GAAG,CAAC;AACRC,EAAAA,IAAI,EAAE,GADE;AAERC,EAAAA,IAAI,EAAE,MAFE;AAGRC,EAAAA,SAAS,EAAET,GAHH;AAIRU,EAAAA,IAAI,EAAE;AACFC,IAAAA,YAAY,EAAE;AADZ;AAJE,CAAD,EAQX;AACIJ,EAAAA,IAAI,EAAE,SADV;AAEIC,EAAAA,IAAI,EAAE,QAFV;AAGIC,EAAAA,SAAS,EAAER,MAHf;AAIIS,EAAAA,IAAI,EAAE;AACFC,IAAAA,YAAY,EAAE;AADZ;AAJV,CARW,EAgBX;AACIJ,EAAAA,IAAI,EAAE,iBADV;AAEIC,EAAAA,IAAI,EAAE,SAFV;AAGIC,EAAAA,SAAS,EAAEJ,OAHf;AAIIK,EAAAA,IAAI,EAAE;AACFC,IAAAA,YAAY,EAAE;AADZ;AAJV,CAhBW,EAwBX;AACIJ,EAAAA,IAAI,EAAE,eADV;AAEIC,EAAAA,IAAI,EAAE,SAFV;AAGIC,EAAAA,SAAS,EAAEN,OAHf;AAIIO,EAAAA,IAAI,EAAE;AACFC,IAAAA,YAAY,EAAE;AADZ;AAJV,CAxBW,EAgCX;AACIJ,EAAAA,IAAI,EAAE,mBADV;AAEIC,EAAAA,IAAI,EAAE,aAFV;AAGIC,EAAAA,SAAS,EAAEP,WAHf;AAIIQ,EAAAA,IAAI,EAAE;AACFC,IAAAA,YAAY,EAAE;AADZ;AAJV,CAhCW,EAwCX;AACIJ,EAAAA,IAAI,EAAE,2BADV;AAEIC,EAAAA,IAAI,EAAE,SAFV;AAGIC,EAAAA,SAAS,EAAEL,OAHf;AAIIM,EAAAA,IAAI,EAAE;AACFC,IAAAA,YAAY,EAAE;AADZ;AAJV,CAxCW,CAAf;AAkDA,IAAMC,MAAM,GAAGd,YAAY,CAAC;AACxBe,EAAAA,OAAO,EAAEd,gBAAgB,EADD;AAExBO,EAAAA,MAAM,EAANA;AAFwB,CAAD,CAA3B;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,eAAeM,MAAf","sourcesContent":["import {\r\n    createRouter,\r\n    createWebHistory\r\n} from \"vue-router\";\r\nimport App from \"./App.vue\";\r\nimport Inicio from \"./components/Inicio.vue\";\r\nimport Administrar from \"./components/Administrar.vue\";\r\nimport Iniciar from \"./components/Iniciar.vue\";\r\nimport Reporte from \"./components/Reporte.vue\";\r\nimport Resumen from \"./components/Resumen.vue\";\r\n\r\nconst routes = [{\r\n        path: \"/\",\r\n        name: \"root\",\r\n        component: App,\r\n        meta: {\r\n            requiresAuth: false\r\n        }\r\n    },\r\n    {\r\n        path: \"/inicio\",\r\n        name: \"inicio\",\r\n        component: Inicio,\r\n        meta: {\r\n            requiresAuth: false\r\n        }\r\n    },\r\n    {\r\n        path: \"/inicio/resumen\",\r\n        name: \"resumen\",\r\n        component: Resumen,\r\n        meta: {\r\n            requiresAuth: false\r\n        }\r\n    },\r\n    {\r\n        path: \"/user/iniciar\",\r\n        name: \"iniciar\",\r\n        component: Iniciar,\r\n        meta: {\r\n            requiresAuth: false\r\n        }\r\n    },\r\n    {\r\n        path: \"/user/administrar\",\r\n        name: \"administrar\",\r\n        component: Administrar,\r\n        meta: {\r\n            requiresAuth: true\r\n        }\r\n    },\r\n    {\r\n        path: \"/user/administrar/reporte\",\r\n        name: \"reporte\",\r\n        component: Reporte,\r\n        meta: {\r\n            requiresAuth: true\r\n        }\r\n    },\r\n];\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(),\r\n    routes,\r\n});\r\n\r\n/*const apolloClient = new ApolloClient({\r\n    link: createHttpLink({\r\n        uri: 'https://car-api-gateway.herokuapp.com/'\r\n    }),\r\n    cache: new InMemoryCache()\r\n})\r\n\r\nasync function isAuth() {\r\n    if (localStorage.getItem(\"token_access\") === null ||\r\n        localStorage.getItem(\"token_refresh\") === null) {\r\n        return false;\r\n    }\r\n    try {\r\n        var result = await apolloClient.mutate({\r\n            mutation: gql `\r\n                mutation ($refresh: String!) {\r\n                    refreshToken(refresh: $refresh) {\r\n                        access\r\n                    }\r\n                }`,\r\n            variables: {\r\n                refresh: localStorage.getItem(\"token_refresh\"),\r\n            },\r\n        })\r\n        localStorage.setItem(\"token_access\", result.data.refreshToken.access);\r\n        return true;\r\n    } catch {\r\n        localStorage.clear();\r\n        alert(\"Su sesión expiró, por favor vuelva a iniciar sesión\");\r\n        return false;\r\n    }\r\n}\r\n\r\nrouter.beforeEach(async (to, from) => {\r\n    var is_auth = await isAuth();\r\n    if (is_auth == to.meta.requiresAuth) return true\r\n    if (is_auth) return {\r\n        name: \"home\"\r\n    };\r\n    return {\r\n        name: \"logIn\"\r\n    };\r\n})*/\r\n\r\n\r\nexport default router;"]}]}